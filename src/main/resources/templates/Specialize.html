<html>
<head>
    <title>specialization page</title>
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    />
</head>
<body>
<div class="row">
    <div class="col-6">
        <div class="container">
            <div class="card">
                <div class="card-header text-center text-info bg-light">
                    <h4>Enter Details<span style="color: red">(* Required)</span></h4>
                </div>
                <div class="card-body">
                    <form id="specializepage" action="create" method="POST">
                        <div class="row">
                            <div class="col-2">
                                <label for="code"
                                >Code<span style="color: red">*</span></label
                                >
                            </div>
                            <div class="col-4">
                                <input
                                        type="number"
                                        name="code"
                                        id="code"
                                        class="form-control"
                                />
                            </div>
                            <div class="col-6"><span id="codeError"></span></div>
                        </div>
                        <div class="row">
                            <div class="col-2">
                                <label for="name"
                                >Name<span style="color: red">*</span></label
                                >
                            </div>
                            <div class="col-4">
                                <input
                                        type="text"
                                        name="name"
                                        id="name"
                                        class="form-control"
                                />
                            </div>
                            <div class="col-6"><span id="nameError"></span></div>
                        </div>
                        <div class="row">
                            <div class="col-2"><label for="note">Note</label></div>
                            <div class="col-4">
                    <textarea
                            name="note"
                            id="note"
                            class="form-control"
                    ></textarea>
                            </div>
                            <div class="col-6"><span id="noteError"></span></div>
                        </div>

                        <button type="submit" class="btn btn-success">Create</button>
                    </form>
                </div>
                <div class="card-footer bg-light text-center">
                    <span class="text-success">user created!!!!</span>
                </div>
            </div>
        </div>
<div th:text="${show}"></div>
        <!-- body row and col end -->
    </div>
</div>
<script>
$(document).ready(function(){
$("#codeError").hide();
$("#nameError").hide();

var codeError=false;
var nameError=false;

function validate_code()
{
var val=$("#code").val();
var exp=/^[0-9]{5}$/;
if(val=="")
{
    $("#codeError").show();
    $("#codeError").html("*please enter valid code");
    $("#codeError").css('color','red');
    codeError=false;
}

else if(!exp.test(val))
{
    $("#codeError").show();
    $("#codeError").html("*code must contain 5 digits");
    $("#codeError").css('color','red');
    codeError=false;}


 else{
    $("#codeError").hide();
    codeError=true;

}
return codeError;
}


function validate_name()
{
var val=$("#name").val();
 var exp=/^[A-Za-z]{4,10}$/;
if(val=="")
{
    $("#nameError").show();
    $("#nameError").html("*please enter valid name");
    $("#nameError").css('color','red');
    nameError=false;
}

else if(!exp.test(val))
{
    $("#nameError").show();
    $("#nameError").html("*name must contain 4-10 char");
    $("#nameError").css('color','red');
    nameError=false;
}

else{
    $("#nameError").hide();
    nameError=true;
}
return nameError;
}

$("#code").keyup(function()
{
 validate_code();
});

$("#name").keyup(function()
{
validate_name();
});

$("#specializepage").submit(function () {
          //call all validate functions
          validate_code();
          validate_name();

          if (codeError && nameError) return true;
          else return false;
        });

});

</script>

</body>
</html>
